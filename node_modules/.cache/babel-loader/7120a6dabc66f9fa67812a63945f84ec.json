{"ast":null,"code":"import _classCallCheck from\"/Users/ismaelgmercado/development/EmployeeDirectory2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/ismaelgmercado/development/EmployeeDirectory2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/ismaelgmercado/development/EmployeeDirectory2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/ismaelgmercado/development/EmployeeDirectory2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import React,{Component}from\"react\";import EmployeeRow from\"./EmployeeRow\";import moment from\"moment\";import API from\"../utils/API\";import SearchBox from\"./SearchBox\";import Titles from\"./Titles\";var Search=/*#__PURE__*/function(_Component){_inherits(Search,_Component);var _super=_createSuper(Search);function Search(){var _this;_classCallCheck(this,Search);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={users:[{}],order:\"descend\",filterdUsers:[{}],loading:true,search:\"\",sorted:false};_this.handleInputChange=function(event){var _this$state=_this.state,users=_this$state.users,search=_this$state.search;var searchEmployee=users.filter(function(sorted){return sorted.name.first.toLowerCase().includes(search.toLowerCase())||sorted.name.last.toLowerCase().includes(search.toLowerCase())||sorted.email.toLowerCase().includes(search.toLowerCase())||sorted.cell.toLowerCase().includes(search.toLowerCase())||sorted.dob.date.toLowerCase().includes(search.toLowerCase());});// console.log(event.target.value)\n_this.setState({sorted:true});_this.setState({search:event.target.value});_this.setState({filterdUsers:searchEmployee});// console.log(this.state.filterdUsers)\n};_this.handleSort=function(){if(_this.state.order===\"descend\"){_this.setState({order:\"asc\"});}else{_this.setState({order:\"descend\"});}var _this$state2=_this.state,users=_this$state2.users,order=_this$state2.order;function compare(a,b){if(order===\"asc\"){if(a.name.first<b.name.first){return-1;}if(a.name.last>b.name.last){return 1;}return 0;}else{if(a.name.first>b.name.first){return-1;}if(a.name.last<b.name.last){return 1;}return 0;}}var filtered=users.sort(compare);console.log(filtered);};_this.searchEmployee=function(){if(_this.state.sorted){return/*#__PURE__*/_jsx(\"div\",{children:_this.state.filterdUsers.map(function(users){return/*#__PURE__*/_jsx(EmployeeRow,{img:users.picture.medium,name:users.name.first+\" \"+users.name.last,phone:users.cell,email:users.email,dob:moment(users.dob.date).format(\"MM-DD-YYYY\")},users.dob.date);})});}else if(_this.state.loading===false){return/*#__PURE__*/_jsx(\"div\",{children:_this.state.users.map(function(users){return/*#__PURE__*/_jsx(EmployeeRow,{img:users.picture.medium,name:users.name.first+\" \"+users.name.last,phone:users.cell,email:users.email,dob:moment(users.dob.date).format(\"MM-DD-YYYY\")},users.dob.date);})});}};return _this;}_createClass(Search,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;API.getEmployee().then(function(res){// console.log(res.data)\n_this2.setState({users:res.data.results,loading:false});}).catch(function(err){return console.log(err);});}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(SearchBox,{handleInput:this.handleInputChange}),/*#__PURE__*/_jsx(Titles,{click:this.handleSort}),this.searchEmployee()]});}}]);return Search;}(Component);export default Search;","map":{"version":3,"sources":["/Users/ismaelgmercado/development/EmployeeDirectory2/src/components/Search.js"],"names":["React","Component","EmployeeRow","moment","API","SearchBox","Titles","Search","state","users","order","filterdUsers","loading","search","sorted","handleInputChange","event","searchEmployee","filter","name","first","toLowerCase","includes","last","email","cell","dob","date","setState","target","value","handleSort","compare","a","b","filtered","sort","console","log","map","picture","medium","format","getEmployee","then","res","data","results","catch","err"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport EmployeeRow from \"./EmployeeRow\";\nimport moment from \"moment\";\nimport API from \"../utils/API\";\nimport SearchBox from \"./SearchBox\";\nimport Titles from \"./Titles\";\n\nclass Search extends Component {\n    state = {\n        users: [{}],\n        order: \"descend\",\n        filterdUsers: [{}],\n        loading: true,\n        search: \"\",\n        sorted: false\n    };\n\n\n    handleInputChange = event => {\n        let { users, search } = this.state;\n        let searchEmployee = users.filter(sorted => {\n            return (\n               sorted.name.first.toLowerCase().includes(search.toLowerCase()) ||\n               sorted.name.last.toLowerCase().includes(search.toLowerCase()) ||\n               sorted.email.toLowerCase().includes(search.toLowerCase()) ||\n               sorted.cell.toLowerCase().includes(search.toLowerCase()) ||\n               sorted.dob.date.toLowerCase().includes(search.toLowerCase()) \n\n            )\n        })\n            // console.log(event.target.value)\n            this.setState({ sorted: true })\n            this.setState({ search: event.target.value });\n            this.setState({ filterdUsers: searchEmployee });\n            // console.log(this.state.filterdUsers)\n    };\n\n\n    handleSort = () => {\n        if (this.state.order === \"descend\") {\n            this.setState({ order: \"asc\"})\n        } else {\n            this.setState({ order: \"descend\"})\n        }\n\n        \n        let { users, order } = this.state;\n\n        function compare( a, b ) {\n            if (order === \"asc\") {\n                if ( a.name.first < b.name.first )\n                {    return -1;  \n              }  \n              if ( a.name.last > b.name.last )\n              {    \n                  return 1;  \n              }  \n              return 0;\n            } else {\n                if ( a.name.first > b.name.first )\n                {    return -1;  \n              }  \n              if ( a.name.last < b.name.last )\n              {    \n                  return 1;  \n              }  \n              return 0;\n\n            }\n        \n        }\n        const filtered = users.sort( compare );\n                        \n        console.log(filtered)\n    }\n\n    searchEmployee = () => {\n        if (this.state.sorted) {\n            return <div>\n                {this.state.filterdUsers.map(users=> (\n                    <EmployeeRow\n                        key={users.dob.date}\n                        img={users.picture.medium}\n                        name={users.name.first + \" \" + users.name.last} \n                        phone={users.cell}\n                        email={users.email}\n                        dob={moment(users.dob.date).format(\"MM-DD-YYYY\")}\n                    />\n                ))}\n            </div>\n        }\n\n        else if(this.state.loading === false) {\n            return <div>\n                {this.state.users.map(users=> (\n                    <EmployeeRow\n                        key={users.dob.date}\n                        img={users.picture.medium}\n                        name={users.name.first + \" \" + users.name.last} \n                        phone={users.cell}\n                        email={users.email}\n                        dob={moment(users.dob.date).format(\"MM-DD-YYYY\")}\n                    /> \n            ))}\n        </div>\n\n        }\n        \n\n    }\n\n    componentDidMount() {\n        API.getEmployee()\n        .then(res =>  {\n            // console.log(res.data)\n            this.setState({ users: res.data.results, loading: false })\n        })\n        .catch(err => console.log(err));\n    }\n\n    render() {\n        return ( \n                \n                <div>\n                    <SearchBox handleInput={this.handleInputChange}/>\n                    <Titles click={this.handleSort}/>\n                    {this.searchEmployee()}\n                </div>    \n                 \n\n        )\n    }\n}\n\nexport default Search;"]},"metadata":{},"sourceType":"module"}