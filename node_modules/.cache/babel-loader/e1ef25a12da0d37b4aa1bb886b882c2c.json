{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/ismaelgmercado/development/EmployeeDirectory2/src/components/Search.js\";\nimport React, { Component } from \"react\";\nimport EmployeeRow from \"./EmployeeRow\";\nimport moment from \"moment\";\nimport API from \"../utils/API\";\nimport SearchBox from \"./SearchBox\";\nimport Titles from \"./Titles\";\n\nclass Search extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      users: [{}],\n      order: \"descend\",\n      filterdUsers: [{}],\n      loading: true,\n      search: \"\",\n      sorted: false\n    };\n\n    this.handleInputChange = event => {\n      let {\n        users,\n        search\n      } = this.state;\n      let searchEmployee = users.filter(sorted => {\n        return sorted.name.first.toLowerCase().includes(search.toLowerCase()) || sorted.name.last.toLowerCase().includes(search.toLowerCase()) || sorted.email.toLowerCase().includes(search.toLowerCase()) || sorted.cell.toLowerCase().includes(search.toLowerCase()) || sorted.dob.date.toLowerCase().includes(search.toLowerCase());\n      }); // console.log(event.target.value)\n\n      this.setState({\n        sorted: true\n      });\n      this.setState({\n        search: event.target.value\n      });\n      this.setState({\n        filterdUsers: searchEmployee\n      }); // console.log(this.state.filterdUsers)\n    };\n\n    this.handleSort = () => {\n      if (this.state.order === \"descend\") {\n        this.setState({\n          order: \"asc\"\n        });\n      } else {\n        this.setState({\n          order: \"descend\"\n        });\n      }\n\n      let {\n        users,\n        order\n      } = this.state;\n\n      function compare(a, b) {\n        if (order === \"asc\") {\n          if (a.name.first < b.name.first) {\n            return -1;\n          }\n\n          if (a.name.last > b.name.last) {\n            return 1;\n          }\n\n          return 0;\n        } else {\n          if (a.name.first > b.name.first) {\n            return -1;\n          }\n\n          if (a.name.last < b.name.last) {\n            return 1;\n          }\n\n          return 0;\n        }\n      }\n\n      const filtered = users.sort(compare);\n      console.log(filtered);\n    };\n\n    this.searchEmployee = () => {\n      if (this.state.sorted) {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: this.state.filterdUsers.map(users => /*#__PURE__*/_jsxDEV(EmployeeRow, {\n            img: users.picture.medium,\n            name: users.name.first + \" \" + users.name.last,\n            phone: users.cell,\n            email: users.email,\n            dob: moment(users.dob.date).format(\"MM-DD-YYYY\")\n          }, users.dob.date, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 21\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 20\n        }, this);\n      } else if (this.state.loading === false) {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: this.state.users.map(users => /*#__PURE__*/_jsxDEV(EmployeeRow, {\n            img: users.picture.medium,\n            name: users.name.first + \" \" + users.name.last,\n            phone: users.cell,\n            email: users.email,\n            dob: moment(users.dob.date).format(\"MM-DD-YYYY\")\n          }, users.dob.date, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 21\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 20\n        }, this);\n      }\n    };\n  }\n\n  componentDidMount() {\n    API.getEmployee().then(res => {\n      // console.log(res.data)\n      this.setState({\n        users: res.data.results,\n        loading: false\n      });\n    }).catch(err => console.log(err));\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(SearchBox, {\n        handleInput: this.handleInputChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(Titles, {\n        click: this.handleSort\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 21\n      }, this), this.searchEmployee()]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 17\n    }, this);\n  }\n\n}\n\nexport default Search;","map":{"version":3,"sources":["/Users/ismaelgmercado/development/EmployeeDirectory2/src/components/Search.js"],"names":["React","Component","EmployeeRow","moment","API","SearchBox","Titles","Search","state","users","order","filterdUsers","loading","search","sorted","handleInputChange","event","searchEmployee","filter","name","first","toLowerCase","includes","last","email","cell","dob","date","setState","target","value","handleSort","compare","a","b","filtered","sort","console","log","map","picture","medium","format","componentDidMount","getEmployee","then","res","data","results","catch","err","render"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport EmployeeRow from \"./EmployeeRow\";\nimport moment from \"moment\";\nimport API from \"../utils/API\";\nimport SearchBox from \"./SearchBox\";\nimport Titles from \"./Titles\";\n\nclass Search extends Component {\n    state = {\n        users: [{}],\n        order: \"descend\",\n        filterdUsers: [{}],\n        loading: true,\n        search: \"\",\n        sorted: false\n    };\n\n\n    handleInputChange = event => {\n        let { users, search } = this.state;\n        let searchEmployee = users.filter(sorted => {\n            return (\n               sorted.name.first.toLowerCase().includes(search.toLowerCase()) ||\n               sorted.name.last.toLowerCase().includes(search.toLowerCase()) ||\n               sorted.email.toLowerCase().includes(search.toLowerCase()) ||\n               sorted.cell.toLowerCase().includes(search.toLowerCase()) ||\n               sorted.dob.date.toLowerCase().includes(search.toLowerCase()) \n\n            )\n        })\n            // console.log(event.target.value)\n            this.setState({ sorted: true })\n            this.setState({ search: event.target.value });\n            this.setState({ filterdUsers: searchEmployee });\n            // console.log(this.state.filterdUsers)\n    };\n\n\n    handleSort = () => {\n        if (this.state.order === \"descend\") {\n            this.setState({ order: \"asc\"})\n        } else {\n            this.setState({ order: \"descend\"})\n        }\n\n        \n        let { users, order } = this.state;\n\n        function compare( a, b ) {\n            if (order === \"asc\") {\n                if ( a.name.first < b.name.first )\n                {    return -1;  \n              }  \n              if ( a.name.last > b.name.last )\n              {    \n                  return 1;  \n              }  \n              return 0;\n            } else {\n                if ( a.name.first > b.name.first )\n                {    return -1;  \n              }  \n              if ( a.name.last < b.name.last )\n              {    \n                  return 1;  \n              }  \n              return 0;\n\n            }\n        \n        }\n        const filtered = users.sort( compare );\n                        \n        console.log(filtered)\n    }\n\n    searchEmployee = () => {\n        if (this.state.sorted) {\n            return <div>\n                {this.state.filterdUsers.map(users=> (\n                    <EmployeeRow\n                        key={users.dob.date}\n                        img={users.picture.medium}\n                        name={users.name.first + \" \" + users.name.last} \n                        phone={users.cell}\n                        email={users.email}\n                        dob={moment(users.dob.date).format(\"MM-DD-YYYY\")}\n                    />\n                ))}\n            </div>\n        }\n\n        else if(this.state.loading === false) {\n            return <div>\n                {this.state.users.map(users=> (\n                    <EmployeeRow\n                        key={users.dob.date}\n                        img={users.picture.medium}\n                        name={users.name.first + \" \" + users.name.last} \n                        phone={users.cell}\n                        email={users.email}\n                        dob={moment(users.dob.date).format(\"MM-DD-YYYY\")}\n                    /> \n            ))}\n        </div>\n\n        }\n        \n\n    }\n\n    componentDidMount() {\n        API.getEmployee()\n        .then(res =>  {\n            // console.log(res.data)\n            this.setState({ users: res.data.results, loading: false })\n        })\n        .catch(err => console.log(err));\n    }\n\n    render() {\n        return ( \n                \n                <div>\n                    <SearchBox handleInput={this.handleInputChange}/>\n                    <Titles click={this.handleSort}/>\n                    {this.searchEmployee()}\n                </div>    \n                 \n\n        )\n    }\n}\n\nexport default Search;"]},"metadata":{},"sourceType":"module"}